{"remainingRequest":"/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/node_modules/babel-loader/lib/index.js!/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/src/assets/js/menu.js","dependencies":[{"path":"/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/src/assets/js/menu.js","mtime":1655087585610},{"path":"/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/node_modules/cache-loader/dist/cjs.js","mtime":1654979193161},{"path":"/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/node_modules/babel-loader/lib/index.js","mtime":1654979188012},{"path":"/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/node_modules/eslint-loader/index.js","mtime":1654979209422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IExheW91dCBmcm9tICJAL2xheW91dC9pbmRleC52dWUiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uLy4uL3JvdXRlciI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi8uLi9zdG9yZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYU1lbnUoKSB7CiAgLy8g5p+l6K+i55So5oi36I+c5Y2VCiAgYXhpb3MuZ2V0KCIvYXBpL2FkbWluL3VzZXIvbWVudXMiKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgIGNvbnNvbGUubG9nKCJzdWNjZXNzIGZpbmQgbWVudSEgIiwgZGF0YSk7CgogICAgaWYgKGRhdGEuZmxhZykgewogICAgICAvLyBjb25zb2xlLmxvZygic3VjY2VzcyBmaW5kIG1lbnUhICIpCiAgICAgIHZhciB1c2VyTWVudUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgIGNvbnNvbGUubG9nKCJ1c2VyTWVudUxpc3QiLCB1c2VyTWVudUxpc3QpOwogICAgICB1c2VyTWVudUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIC8v54i257qn6I+c5Y2V55qE6L2s5YyWID0+IAogICAgICAgIGlmIChpdGVtLmljb24gIT0gbnVsbCkgewogICAgICAgICAgaXRlbS5pY29uID0gImljb25mb250ICIgKyBpdGVtLmljb247CiAgICAgICAgfQoKICAgICAgICBpZiAoaXRlbS5jb21wb25lbnQgPT0gIkxheW91dCIpIHsKICAgICAgICAgIC8v54i257qn6I+c5Y2VID0+IOWQjumdoumDveaYr+WtkOe6p+iPnOWNlQogICAgICAgICAgaXRlbS5jb21wb25lbnQgPSBMYXlvdXQ7IC8v5YWo6YOo6YO95piv5a2Q6ZuG6I+c5Y2V5ZWK77yB77yB77yB77yBCiAgICAgICAgfQoKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICAgICAgcm91dGUuaWNvbiA9ICJpY29uZm9udCAiICsgcm91dGUuaWNvbjsgLy8gY29uc29sZS5sb2coInJlYWxseSBjb21wb2VudCIsIHJvdXRlLmNvbXBvbmVudCkKCiAgICAgICAgICAgIHJvdXRlLmNvbXBvbmVudCA9IGxvYWRWaWV3KHJvdXRlLmNvbXBvbmVudCk7IC8vIGNvbnNvbGUubG9nKCJsYXp5IGxvYWQiLCByb3V0ZS5jb21wb25lbnQpCgogICAgICAgICAgICByb3V0ZXIuYWRkUm91dGUoJ+S4u+mhtScsIHJvdXRlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8vIOa3u+WKoOS+p+i+ueagj+iPnOWNlQoKICAgICAgc3RvcmUuY29tbWl0KCJzYXZlVXNlck1lbnVMaXN0IiwgdXNlck1lbnVMaXN0KTsgLy8g5re75Yqg6I+c5Y2V5Yiw6Lev55SxCgogICAgICB2YXIgdGVzdCA9IFtdOwogICAgICB0ZXN0LnB1c2godXNlck1lbnVMaXN0WzRdKTsgLy8gdGVzdC5wdXNoKHVzZXJNZW51TGlzdFs2XSkKICAgICAgLy8gY29uc29sZS5sb2coInVzZXJNZW51TGlzdCIsdXNlck1lbnVMaXN0KQoKICAgICAgdGVzdC5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgIHJvdXRlLmNvbXBvbmVudCA9IGxvYWRWaWV3KHJvdXRlLmNvbXBvbmVudCk7IC8vIGNvbnNvbGUubG9nKCJyb3V0ZSIsIHJvdXRlKQoKICAgICAgICByb3V0ZXIuYWRkUm91dGUocm91dGUpOwogICAgICB9KTsgLy8gcm91dGVyLmFkZFJvdXRlKHsgcGF0aDogJy9hYm91dCcsIGNvbXBvbmVudDogQWJvdXR9KQogICAgICAvLyBjb25zb2xlLmxvZygiIHVzZXJNZW51TGlzdFsxXSIsIHVzZXJNZW51TGlzdFsxXSkKICAgICAgLy8gY29uc29sZS5sb2coImFsbCByb3V0ZXMiLHJvdXRlci5vcHRpb25zLnJvdXRlcykKICAgICAgLy8gcm91dGVyLnB1c2goe3BhdGg6ICIvc2V0dGluZyJ9KQogICAgICAvLyBjb25zb2xlLmxvZygiYWxsIHJvdXRlciIsdGhpcy4kcm91dGUucm91dGVyLl9yZWNvZ25pemVyLm5hbWVzKQogICAgfSBlbHNlIHsKICAgICAgVnVlLnByb3RvdHlwZS4kbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9sb2dpbiIKICAgICAgfSk7CiAgICB9CiAgfSk7Cn0KZXhwb3J0IHZhciBsb2FkVmlldyA9IGZ1bmN0aW9uIGxvYWRWaWV3KHZpZXcpIHsKICAvLyDot6/nlLHmh5LliqDovb0KICByZXR1cm4gZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsiQC92aWV3cyIuY29uY2F0KHZpZXcpXSwgcmVzb2x2ZSk7CiAgfTsKfTs="},{"version":3,"sources":["/Users/zhonghui/Desktop/Hui Blog/blog-admin/admin/src/assets/js/menu.js"],"names":["Layout","router","store","axios","Vue","generaMenu","get","then","data","console","log","flag","userMenuList","forEach","item","icon","component","children","length","route","loadView","addRoute","commit","test","push","prototype","$message","error","message","path","view","resolve","require"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,oBAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAO,SAASC,UAAT,GAAsB;AAC3B;AACAF,EAAAA,KAAK,CAACG,GAAN,CAAU,uBAAV,EAAmCC,IAAnC,CAAwC,gBAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;AACpDC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkCF,IAAlC;;AAEA,QAAIA,IAAI,CAACG,IAAT,EAAe;AACb;AACA,UAAIC,YAAY,GAAGJ,IAAI,CAACA,IAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BE,YAA3B;AACAA,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAAAC,IAAI,EAAI;AAC3B;AAEA,YAAIA,IAAI,CAACC,IAAL,IAAa,IAAjB,EAAuB;AACrBD,UAAAA,IAAI,CAACC,IAAL,GAAY,cAAcD,IAAI,CAACC,IAA/B;AACD;;AACD,YAAID,IAAI,CAACE,SAAL,IAAkB,QAAtB,EAAgC;AAC9B;AACAF,UAAAA,IAAI,CAACE,SAAL,GAAiBhB,MAAjB,CAF8B,CAG9B;AACD;;AACD,YAAIc,IAAI,CAACG,QAAL,IAAiBH,IAAI,CAACG,QAAL,CAAcC,MAAd,GAAuB,CAA5C,EAA+C;AAC7CJ,UAAAA,IAAI,CAACG,QAAL,CAAcJ,OAAd,CAAsB,UAAAM,KAAK,EAAI;AAC7BA,YAAAA,KAAK,CAACJ,IAAN,GAAa,cAAcI,KAAK,CAACJ,IAAjC,CAD6B,CAE7B;;AACAI,YAAAA,KAAK,CAACH,SAAN,GAAkBI,QAAQ,CAACD,KAAK,CAACH,SAAP,CAA1B,CAH6B,CAI7B;;AACAf,YAAAA,MAAM,CAACoB,QAAP,CAAgB,IAAhB,EAAqBF,KAArB;AACD,WAND;AAOD;AACF,OApBD,EAJa,CAyBb;;AACAjB,MAAAA,KAAK,CAACoB,MAAN,CAAa,kBAAb,EAAiCV,YAAjC,EA1Ba,CA2Bb;;AACA,UAAIW,IAAI,GAAG,EAAX;AACAA,MAAAA,IAAI,CAACC,IAAL,CAAUZ,YAAY,CAAC,CAAD,CAAtB,EA7Ba,CA8Bb;AACA;;AACAW,MAAAA,IAAI,CAACV,OAAL,CAAa,UAASM,KAAT,EAAe;AAC1BA,QAAAA,KAAK,CAACH,SAAN,GAAkBI,QAAQ,CAACD,KAAK,CAACH,SAAP,CAA1B,CAD0B,CAE1B;;AACAf,QAAAA,MAAM,CAACoB,QAAP,CAAgBF,KAAhB;AACD,OAJD,EAhCa,CAqCb;AACA;AACA;AACA;AAEA;AACD,KA3CD,MA2CO;AACLf,MAAAA,GAAG,CAACqB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6BnB,IAAI,CAACoB,OAAlC;AACA3B,MAAAA,MAAM,CAACuB,IAAP,CAAY;AAAEK,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACD;AACF,GAlDD;AAmDD;AAED,OAAO,IAAMT,QAAQ,GAAG,SAAXA,QAAW,CAAAU,IAAI,EAAI;AAC9B;AACA,SAAO,UAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,kBAAWF,IAAX,EAAD,EAAqBC,OAArB,CAAX;AAAA,GAAd;AACD,CAHM","sourcesContent":["import Layout from \"@/layout/index.vue\";\nimport router from \"../../router\";\nimport store from \"../../store\";\nimport axios from \"axios\";\nimport Vue from \"vue\";\nexport function generaMenu() {\n  // 查询用户菜单\n  axios.get(\"/api/admin/user/menus\").then(({ data }) => {\n    console.log(\"success find menu! \",data)\n\n    if (data.flag) {\n      // console.log(\"success find menu! \")\n      var userMenuList = data.data;\n      console.log(\"userMenuList\",userMenuList)\n      userMenuList.forEach(item => {\n        //父级菜单的转化 => \n\n        if (item.icon != null) {\n          item.icon = \"iconfont \" + item.icon;\n        }\n        if (item.component == \"Layout\") {\n          //父级菜单 => 后面都是子级菜单\n          item.component = Layout;\n          //全部都是子集菜单啊！！！！\n        }\n        if (item.children && item.children.length > 0) {\n          item.children.forEach(route => {\n            route.icon = \"iconfont \" + route.icon;\n            // console.log(\"really compoent\", route.component)\n            route.component = loadView(route.component);\n            // console.log(\"lazy load\", route.component)\n            router.addRoute('主页',route)\n          });\n        }\n      });\n      // 添加侧边栏菜单\n      store.commit(\"saveUserMenuList\", userMenuList);\n      // 添加菜单到路由\n      let test = [];\n      test.push(userMenuList[4])\n      // test.push(userMenuList[6])\n      // console.log(\"userMenuList\",userMenuList)\n      test.forEach(function(route){\n        route.component = loadView(route.component);\n        // console.log(\"route\", route)\n        router.addRoute(route);\n      })\n      // router.addRoute({ path: '/about', component: About})\n      // console.log(\" userMenuList[1]\", userMenuList[1])\n      // console.log(\"all routes\",router.options.routes)\n      // router.push({path: \"/setting\"})\n\n      // console.log(\"all router\",this.$route.router._recognizer.names)\n    } else {\n      Vue.prototype.$message.error(data.message);\n      router.push({ path: \"/login\" });\n    }\n  });\n}\n\nexport const loadView = view => {\n  // 路由懒加载\n  return resolve => require([`@/views${view}`], resolve);\n};\n\n"]}]}
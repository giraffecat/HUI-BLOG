{"remainingRequest":"/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/node_modules/babel-loader/lib/index.js!/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/src/assets/js/menu.js","dependencies":[{"path":"/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/src/assets/js/menu.js","mtime":1654921923816},{"path":"/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/node_modules/cache-loader/dist/cjs.js","mtime":1654909695811},{"path":"/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/node_modules/babel-loader/lib/index.js","mtime":1654909698760},{"path":"/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/node_modules/eslint-loader/index.js","mtime":1654909696406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IExheW91dCBmcm9tICJAL2xheW91dC9pbmRleC52dWUiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uLy4uL3JvdXRlciI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi8uLi9zdG9yZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYU1lbnUoKSB7CiAgdmFyIF90aGlzID0gdGhpczsKCiAgLy8g5p+l6K+i55So5oi36I+c5Y2VCiAgYXhpb3MuZ2V0KCIvYXBpL2FkbWluL3VzZXIvbWVudXMiKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgIGNvbnNvbGUubG9nKCJzdWNjZXNzIGZpbmQgbWVudSEgIiwgZGF0YSk7CgogICAgaWYgKGRhdGEuZmxhZykgewogICAgICBjb25zb2xlLmxvZygic3VjY2VzcyBmaW5kIG1lbnUhICIpOwogICAgICB2YXIgdXNlck1lbnVMaXN0ID0gZGF0YS5kYXRhOwogICAgICBjb25zb2xlLmxvZygidXNlck1lbnVMaXN0IiwgdXNlck1lbnVMaXN0KTsKICAgICAgdXNlck1lbnVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAvL+eItue6p+iPnOWNleeahOi9rOWMliA9PiAKICAgICAgICBpZiAoaXRlbS5pY29uICE9IG51bGwpIHsKICAgICAgICAgIGl0ZW0uaWNvbiA9ICJpY29uZm9udCAiICsgaXRlbS5pY29uOwogICAgICAgIH0KCiAgICAgICAgaWYgKGl0ZW0uY29tcG9uZW50ID09ICJMYXlvdXQiKSB7CiAgICAgICAgICBpdGVtLmNvbXBvbmVudCA9IExheW91dDsKICAgICAgICB9CgogICAgICAgIGl0ZW0uY29tcG9uZW50ID0gbG9hZFZpZXcoaXRlbS5jb21wb25lbnQpOwoKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICAgICAgcm91dGUuaWNvbiA9ICJpY29uZm9udCAiICsgcm91dGUuaWNvbjsKICAgICAgICAgICAgY29uc29sZS5sb2coInJlYWxseSBjb21wb2VudCIsIHJvdXRlLmNvbXBvbmVudCk7CiAgICAgICAgICAgIHJvdXRlLmNvbXBvbmVudCA9IGxvYWRWaWV3KHJvdXRlLmNvbXBvbmVudCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJsYXp5IGxvYWQiLCByb3V0ZS5jb21wb25lbnQpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsgLy8g5re75Yqg5L6n6L655qCP6I+c5Y2VCgogICAgICBzdG9yZS5jb21taXQoInNhdmVVc2VyTWVudUxpc3QiLCB1c2VyTWVudUxpc3QpOyAvLyDmt7vliqDoj5zljZXliLDot6/nlLEKCiAgICAgIGNvbnNvbGUubG9nKCJ1c2VyTWVudUxpc3QiLCB1c2VyTWVudUxpc3QpOwogICAgICByb3V0ZXIuYWRkUm91dGVzKHVzZXJNZW51TGlzdCk7CiAgICAgIGNvbnNvbGUubG9nKCJhbGwgcm91dGVyIiwgX3RoaXMuJHJvdXRlLnJvdXRlci5fcmVjb2duaXplci5uYW1lcyk7CiAgICB9IGVsc2UgewogICAgICBWdWUucHJvdG90eXBlLiRtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL2xvZ2luIgogICAgICB9KTsKICAgIH0KICB9KTsKfQpleHBvcnQgdmFyIGxvYWRWaWV3ID0gZnVuY3Rpb24gbG9hZFZpZXcodmlldykgewogIC8vIOi3r+eUseaHkuWKoOi9vQogIHJldHVybiByZXF1aXJlKCJAL3ZpZXdzIi5jb25jYXQodmlldykpOwp9Ow=="},{"version":3,"sources":["/Users/zhonghui/Desktop/风宇博客参考/blog-vue/admin/src/assets/js/menu.js"],"names":["Layout","router","store","axios","Vue","generaMenu","get","then","data","console","log","flag","userMenuList","forEach","item","icon","component","loadView","children","length","route","commit","addRoutes","$route","_recognizer","names","prototype","$message","error","message","push","path","view","require"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,oBAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,OAAO,SAASC,UAAT,GAAsB;AAAA;;AAC3B;AACAF,EAAAA,KAAK,CAACG,GAAN,CAAU,uBAAV,EAAmCC,IAAnC,CAAwC,gBAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;AACpDC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkCF,IAAlC;;AAEA,QAAIA,IAAI,CAACG,IAAT,EAAe;AACbF,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,UAAIE,YAAY,GAAGJ,IAAI,CAACA,IAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BE,YAA3B;AACAA,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAAAC,IAAI,EAAI;AAC3B;AAEA,YAAIA,IAAI,CAACC,IAAL,IAAa,IAAjB,EAAuB;AACrBD,UAAAA,IAAI,CAACC,IAAL,GAAY,cAAcD,IAAI,CAACC,IAA/B;AACD;;AACD,YAAID,IAAI,CAACE,SAAL,IAAkB,QAAtB,EAAgC;AAC9BF,UAAAA,IAAI,CAACE,SAAL,GAAiBhB,MAAjB;AACD;;AACDc,QAAAA,IAAI,CAACE,SAAL,GAAiBC,QAAQ,CAACH,IAAI,CAACE,SAAN,CAAzB;;AACA,YAAIF,IAAI,CAACI,QAAL,IAAiBJ,IAAI,CAACI,QAAL,CAAcC,MAAd,GAAuB,CAA5C,EAA+C;AAC7CL,UAAAA,IAAI,CAACI,QAAL,CAAcL,OAAd,CAAsB,UAAAO,KAAK,EAAI;AAC7BA,YAAAA,KAAK,CAACL,IAAN,GAAa,cAAcK,KAAK,CAACL,IAAjC;AACAN,YAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BU,KAAK,CAACJ,SAArC;AACAI,YAAAA,KAAK,CAACJ,SAAN,GAAkBC,QAAQ,CAACG,KAAK,CAACJ,SAAP,CAA1B;AACAP,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBU,KAAK,CAACJ,SAA/B;AACD,WALD;AAMD;AACF,OAlBD,EAJa,CAuBb;;AACAd,MAAAA,KAAK,CAACmB,MAAN,CAAa,kBAAb,EAAiCT,YAAjC,EAxBa,CAyBb;;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BE,YAA3B;AACAX,MAAAA,MAAM,CAACqB,SAAP,CAAiBV,YAAjB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyB,KAAI,CAACa,MAAL,CAAYtB,MAAZ,CAAmBuB,WAAnB,CAA+BC,KAAxD;AACD,KA7BD,MA6BO;AACLrB,MAAAA,GAAG,CAACsB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6BpB,IAAI,CAACqB,OAAlC;AACA5B,MAAAA,MAAM,CAAC6B,IAAP,CAAY;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAZ;AACD;AACF,GApCD;AAqCD;AAED,OAAO,IAAMd,QAAQ,GAAG,SAAXA,QAAW,CAAAe,IAAI,EAAI;AAC9B;AACA,SAAOC,OAAO,kBAAWD,IAAX,EAAd;AACD,CAHM","sourcesContent":["import Layout from \"@/layout/index.vue\";\nimport router from \"../../router\";\nimport store from \"../../store\";\nimport axios from \"axios\";\nimport Vue from \"vue\";\n\nexport function generaMenu() {\n  // 查询用户菜单\n  axios.get(\"/api/admin/user/menus\").then(({ data }) => {\n    console.log(\"success find menu! \",data)\n\n    if (data.flag) {\n      console.log(\"success find menu! \")\n      var userMenuList = data.data;\n      console.log(\"userMenuList\",userMenuList)\n      userMenuList.forEach(item => {\n        //父级菜单的转化 => \n\n        if (item.icon != null) {\n          item.icon = \"iconfont \" + item.icon;\n        }\n        if (item.component == \"Layout\") {\n          item.component = Layout;\n        }\n        item.component = loadView(item.component);\n        if (item.children && item.children.length > 0) {\n          item.children.forEach(route => {\n            route.icon = \"iconfont \" + route.icon;\n            console.log(\"really compoent\", route.component)\n            route.component = loadView(route.component);\n            console.log(\"lazy load\", route.component)\n          });\n        }\n      });\n      // 添加侧边栏菜单\n      store.commit(\"saveUserMenuList\", userMenuList);\n      // 添加菜单到路由\n      console.log(\"userMenuList\",userMenuList)\n      router.addRoutes(userMenuList);\n      console.log(\"all router\",this.$route.router._recognizer.names)\n    } else {\n      Vue.prototype.$message.error(data.message);\n      router.push({ path: \"/login\" });\n    }\n  });\n}\n\nexport const loadView = view => {\n  // 路由懒加载\n  return require(`@/views${view}`);\n};\n"]}]}